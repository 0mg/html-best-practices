# XML宣言を使用しない

まだXHTMLを書きたいんですか？

悪い例:

    <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
    <!DOCTYPE html>

良い例:

    <!DOCTYPE html>


## 解説

XHTML 1.1仕様ではXML仕様にも従うことが要求されます。そのためXML宣言（またはプロローグ）と呼ばれる、悪い例として挙げたようなバージョンと文字エンコーディングを指定するための文字列をDOCTYPEの更に前に書くことが望ましいとされていました。またそう書くことでHTML文書がXML文書として、つまりXHTML 1.1仕様と高い互換性を維持して解釈されることが期待できます。

仕様ではXHTML構文として章が割かれているため、あたかもXML仕様に準じた形でHTML5のHTML文書を書きたい場合はXML宣言が必要に思えますが、実際にはそうではありません。なぜなら仕様でHTML構文の方にもXHTML 1.1の機能や特徴のいくつかが取り込まれているからです（全てではありません）。

例えばXHTML 1.1で最もわかりやすい特徴といえる空要素の閉じ方がそうです。

    <hr>
    <hr/>
    <hr />

この3種類の`hr`タグの書き方はどれもHTML5においては間違いではありません。例え同じHTML文書内でバラバラの書き方をされていても、です。

このようにHTML 4.01に近い書き方のHTML文書であろうと、XHTML 1.1に近い書き方のHTML文書であろうと、両者が混ざったHTML文書であろうと、HTML構文としてきちんとパースできるよう仕様では定義されています。もちろん現行のブラウザーも問題なくパースしレンダリングしてくれます。

XML宣言の実用的な機能である文字エンコーディングの指定は[別に行えること][1]も考慮すると、自然とHTML5においてXML宣言は不要だという結論になります。


[1]: specify-document-character-encoding.ja.md
