# `favicon.ico`へリンクしない

ほとんどのブラウザーは`/favicon.ico`を自動的に非同期で取得します。

悪い例:

    <link href="/favicon.ico" rel="icon" type="image/vnd.microsoft.icon">

良い例:

    <!-- Place `favicon.ico` in the root directory. -->


## 解説

ブックマークを始め、タブ、スマートフォンのホーム画面でのアイコンなど、ファビコンは様々な場面で使われます。古くからあったこの機能は`link`要素を使って明示的に参照できます。ファビコンについては仕様でも触れられており、`rel`属性で`icon`という値を指定することで参照するようになっています。またオプションとしてメディア・タイプや縦横サイズも明示的に指定できるようになってもいます。しかしこのような参照は冗長と言えるでしょう。

そもそもこの機能が実装された当時より、ドメインのルートにある`favicon.ico`というファイルを強制的に探すようになっていました。そのためほとんどすべてのブラウザーが`favicon.ico`というファイル名でファビコンを置くだけで機能するようになっています。わざわざ指定する必要はないわけです。

指定しない場合、パフォーマンスという観点でもメリットがあります。`link`要素を使ってファビコンを指定してしまうと、ブラウザーがその`link`要素をパースした直後にファビコンを読みに行くことになります。それに対して書かない場合は、ウェブページの読み込みが完了した後にドメインのルートにある`favicon.ico`というファイルを探しに行きます。ファビコンはウェブページの閲覧においてクリティカルなものではないので、このように遅延読み込みされるとウェブページの表示が少し改善することでしょう。

仕様でもこのドメインのルートにある[`favicon.ico`というファイル読みに行く挙動][1]について明文化されています。つまりありとあらゆるツールでこの挙動が期待できるため、もはや指定する意味はほとんどないと言えるでしょう。

同じことはiOS向けの`apple-touch-icon(-*).png`でも言えます。以前はAndroidがサポートしていなかったため、様々なサイズを指定する大量の`link`要素を書く必要がありましたが、今はAndroidもドメインのルートにある`apple-touch-icon(-*).png`を読むようになりました。こちらももう指定しなくても良いでしょう。必要になるファイルについては[iOS Human Interface Guidelines][2]を参照するべきです。


[1]: https://html.spec.whatwg.org/multipage/links.html#rel-icon
[2]: https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/
